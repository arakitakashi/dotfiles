# 個人設定 - Claude開発アシスタント設定

このファイルは、すべてのプロジェクトに共通する個人的な開発スタイルと好みを定義します。

## コミュニケーション

### 言語

- **日本語優先**: 説明、コメント、ドキュメントは基本的に日本語で記述
- コード内の変数名、関数名、クラス名は英語を使用
- git コミットメッセージ, プルリクエスト、イシューは Conventional Commits 形式で日本語

### 作業スタイル

- **高い自律性**: 必要な判断は任せて、完了まで進めてOK
- **計画優先**: 新機能追加や大きな変更の前には、プランモードで設計を検討し承認を得る
- 重要な判断や破壊的な操作（force push、ファイル削除など）の前には確認を取る

## コーディング規約

### コメント

- **詳細なコメントを推奨**:
  - すべての関数、クラスには目的と使用方法を説明するコメントを付ける
  - 複雑なロジックには、なぜそのような実装にしたかの理由を記載
  - TODO、FIXME、NOTE などのマーカーを適切に使用
  - 日本語でのコメントを基本とする

- Type:
  - `feat`: 新機能
  - `fix`: バグ修正
  - `docs`: ドキュメントのみの変更
  - `style`: コードの動作に影響しない変更（フォーマットなど）
  - `refactor`: バグ修正も機能追加もしないコード変更
  - `perf`: パフォーマンス改善
  - `test`: テストの追加・修正
  - `chore`: ビルドプロセスやツールの変更
  - `ci`: CI設定ファイルの変更

### ブランチ戦略

- プロジェクトの規約に従う
- 一般的には feature/xxx、fix/xxx、refactor/xxx などを使用

## テストとコード品質

### テスト駆動開発（TDD）

- **テストファーストアプローチ**:
  1. まず failing test を書く
  2. テストが通る最小限の実装
  3. リファクタリング
- テストカバレッジは重要だが、100%を目指すより実用的なテストを優先

### コード品質の優先順位

1. **セキュリティ**: OWASP Top 10 などの一般的な脆弱性を避ける
   - SQLインジェクション、XSS、CSRF、コマンドインジェクションなどに注意
   - 認証・認可を適切に実装
   - 機密情報をハードコードしない
2. **堅牢性**: エラーハンドリングを徹底
   - エッジケースを考慮
   - 外部入力は必ず検証
   - システム境界でのバリデーション
3. **保守性**: 読みやすく理解しやすいコード
4. **シンプルさ**: 過剰な設計を避ける

### エラーハンドリング

- **堅牢な実装**:
  - すべての外部入力（ユーザー入力、API、ファイル読み込みなど）を検証
  - エラーは適切にキャッチし、わかりやすいメッセージを提供
  - ログ記録を適切に行う
  - 予期しないエラーでもアプリケーションがクラッシュしないように

## ドキュメント

### ドキュメント構成

- **README.md**: プロジェクトの概要、セットアップ、基本的な使用方法
- **docs/**: 詳細なドキュメント、アーキテクチャ図、設計判断など
- **コード内コメント**: 実装の詳細や複雑なロジックの説明

### ドキュメント内容

- セットアップ手順は具体的に（コマンド例を含む）
- アーキテクチャの判断理由を記録
- API仕様やインターフェース定義
- トラブルシューティングガイド

## Claude への期待

### 実装アプローチ

- **計画モードの活用**:
  - 新機能追加や大きなリファクタリングの前には、必ずプランモードで設計を提示
  - 複数の実装アプローチがある場合は、それぞれのトレードオフを説明
  - ファイル構成や変更箇所を明確に示す

### 自律性

- 小さな修正やバグフィックスは判断して進めてOK
- ライブラリやツールの選択が必要な場合は、選択肢と理由を提示
- 不明点がある場合は推測せず、質問する

### コード生成時の注意

- セキュリティを最優先に考える
- 過剰な抽象化を避け、YAGNIの原則を守る
- ただし、テストとエラーハンドリングは妥協しない
- 詳細なコメントを含める

### コミュニケーション

- 専門用語を使っても良いが、必要に応じて説明を追加
- 実装の理由や判断基準を明確に説明
- ファイルパスは `file_path:line_number` 形式で参照
